<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!--NewPage-->
<html>
<head>
<!-- Generated by javadoc on Mon Jun 15 20:31:47 GMT+00:00 1998 -->
<title>
  Class com.icl.saxon.Distributor
</title>
</head>
<body>
<a name="_top_"></a>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.icl.saxon.html">This Package</a>  <a href="com.icl.saxon.DOMDriver.html#_top_">Previous</a>  <a href="com.icl.saxon.ElementCopier.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>
  Class com.icl.saxon.Distributor
</h1>
<pre>
java.lang.Object
   |
   +----com.icl.saxon.Distributor
</pre>
<hr>
<dl>
  <dt> public class <b>Distributor</b>
  <dt> extends Object
  <dt> implements DocumentHandler
</dl>
<B>Distributor</B> processes an XML file, calling registered element handlers
 when appropriate. It uses the SAX interface to do XML parsing.<P>
 Element handlers can be registered using the setHandler() interface.
 They must be declared as implementations of ElementHandler. They can
 optionally be declared as subclasses of ElementHandlerBase.
<p>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="com.icl.saxon.ElementHandler.html#_top_">ElementHandler</a>, <a href="com.icl.saxon.ElementHandlerBase.html#_top_">ElementHandlerBase</a>
</dl>
<hr>
<a name="index"></a>
<h2>
  <img src="images/variable-index.gif" width=207 height=38 alt="Variable Index">
</h2>
<dl>
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#BUILD_DOM"><b>BUILD_DOM</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RETAIN_ATTRIBUTES"><b>RETAIN_ATTRIBUTES</b></a>
  <dd> 
  <dt> <img src="images/blue-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#RETAIN_CONTENT"><b>RETAIN_CONTENT</b></a>
  <dd> 
</dl>
<h2>
  <img src="images/constructor-index.gif" width=275 height=38 alt="Constructor Index">
</h2>
<dl>
  <dt> <img src="images/yellow-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#Distributor()"><b>Distributor</b></a>()
  <dd>  create a Distributor and initialise the element handlers

</dl>
<h2>
  <img src="images/method-index.gif" width=207 height=38 alt="Method Index">
</h2>
<dl>
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#characters(char[], int, int)"><b>characters</b></a>(char[], int, int)
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#endDocument()"><b>endDocument</b></a>()
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#endElement(java.lang.String)"><b>endElement</b></a>(String)
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getDefaultHandler()"><b>getDefaultHandler</b></a>()
  <dd>  Find the default element handler

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getDocument()"><b>getDocument</b></a>()
  <dd>  Get the DOM Document object.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getHandler(java.lang.String, java.lang.String)"><b>getHandler</b></a>(String, String)
  <dd>  Find the handler registered for a particular element type.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#getWriter(java.lang.String, java.lang.String)"><b>getWriter</b></a>(String, String)
  <dd>  Find the Writer registered for a particular element type.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#ignorableWhitespace(char[], int, int)"><b>ignorableWhitespace</b></a>(char[], int, int)
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#processingInstruction(java.lang.String, java.lang.String)"><b>processingInstruction</b></a>(String, String)
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#run(org.w3c.dom.Document)"><b>run</b></a>(Document)
  <dd>  Walk an existing tree, calling registered element handlers as appropriate.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#run(org.xml.sax.InputSource)"><b>run</b></a>(InputSource)
  <dd>  Run the Distributor, calling element handlers when appropriate.<BR>
 The SAX parser is obtained by calling <B>ParserManager</B>.<BR>
 If parsing failures occur, diagnostics are written to the system error output.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setDefaultHandler(com.icl.saxon.ElementHandler)"><b>setDefaultHandler</b></a>(ElementHandler)
  <dd>  Register the default element handler
 
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setDocumentLocator(org.xml.sax.Locator)"><b>setDocumentLocator</b></a>(Locator)
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setErrorOutput(java.io.Writer)"><b>setErrorOutput</b></a>(Writer)
  <dd>  Set output for error messages.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setHandler(java.lang.String, com.icl.saxon.ElementHandler)"><b>setHandler</b></a>(String, ElementHandler)
  <dd>  Register a handler for a particular element type.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setNullWriter(java.lang.String)"><b>setNullWriter</b></a>(String)
  <dd>  Set a null writer for an element.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setOption(int, boolean)"><b>setOption</b></a>(int, boolean)
  <dd>  Set processing options.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#setWriter(java.lang.String, java.io.Writer)"><b>setWriter</b></a>(String, Writer)
  <dd>  Set the writer to be used for an element type.<BR>
 This setting may be overridden for a particular element instance
 by calling <B>ElementInfo.setWriter()</B> from the element handler.
  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#startDocument()"><b>startDocument</b></a>()
  <dd>  Callback interface for SAX: not for application use<BR>

  <dt> <img src="images/red-ball-small.gif" width=6 height=6 alt=" o ">
	<a href="#startElement(java.lang.String, org.xml.sax.AttributeList)"><b>startElement</b></a>(String, AttributeList)
  <dd>  Callback interface for SAX: not for application use<BR>

</dl>
<a name="variables"></a>
<h2>
  <img src="images/variables.gif" width=153 height=38 alt="Variables">
</h2>
<a name="RETAIN_CONTENT"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RETAIN_CONTENT</b>
<pre>
 public static final int RETAIN_CONTENT
</pre>
<a name="RETAIN_ATTRIBUTES"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>RETAIN_ATTRIBUTES</b>
<pre>
 public static final int RETAIN_ATTRIBUTES
</pre>
<a name="BUILD_DOM"><img src="images/blue-ball.gif" width=12 height=12 alt=" o "></a>
<b>BUILD_DOM</b>
<pre>
 public static final int BUILD_DOM
</pre>
<a name="constructors"></a>
<h2>
  <img src="images/constructors.gif" width=231 height=38 alt="Constructors">
</h2>
<a name="Distributor"></a>
<a name="Distributor()"><img src="images/yellow-ball.gif" width=12 height=12 alt=" o "></a>
<b>Distributor</b>
<pre>
 public Distributor()
</pre>
<dl>
  <dd> create a Distributor and initialise the element handlers
<p>
</dl>
<a name="methods"></a>
<h2>
  <img src="images/methods.gif" width=151 height=38 alt="Methods">
</h2>
<a name="setErrorOutput(java.io.Writer)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setErrorOutput"><b>setErrorOutput</b></a>
<pre>
 public void setErrorOutput(Writer writer)
</pre>
<dl>
  <dd> Set output for error messages. The distributor does not throw an exception
 for parse errors or input I/O errors, rather it returns a result code an
 writes diagnistics to a user-specified output stream, which defaults to
 System.err
<p>
</dl>
<a name="setOption(int, boolean)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setOption"><b>setOption</b></a>
<pre>
 public void setOption(int option,
                       boolean value)
</pre>
<dl>
  <dd> Set processing options.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> option: - the option to be set. Values are:<UL>
 <LI>Distributor.RETAIN_CONTENT: make character content of elements available
 as the pseudo-attribute named "*" (default is false)
 <LI>Distributor.RETAIN_ATTRIBUTES: make attributes of elements available
 outside the scope of the startElement handler for that element (default is false)
 <LI>Distributor.BUILD_DOM: build Document Object Model and make its nodes
 available to element handlers (default is false)
 </UL>
    <dd> value: - the value for the option, true or false
  </dl></dd>
</dl>
<a name="run(org.xml.sax.InputSource)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="run"><b>run</b></a>
<pre>
 public int run(InputSource in)
</pre>
<dl>
  <dd> Run the Distributor, calling element handlers when appropriate.<BR>
 The SAX parser is obtained by calling <B>ParserManager</B>.<BR>
 If parsing failures occur, diagnostics are written to the system error output.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> in - The InputSource that identifies the XML input. This may
 be any SAX InputSource object. SAXON provides the <B>ExtendedInputSource</B>
 class, which may also be used.
    <dt> <b>Returns:</b>
    <dd> zero for success, non-zero for failure
    <dt> <b>See Also:</b>
    <dd> <a href="com.icl.saxon.ExtendedInputSource.html#_top_">ExtendedInputSource</a>, <a href="com.icl.saxon.ParserManager.html#_top_">ParserManager</a>
  </dl></dd>
</dl>
<a name="run(org.w3c.dom.Document)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="run"><b>run</b></a>
<pre>
 public int run(Document doc)
</pre>
<dl>
  <dd> Walk an existing tree, calling registered element handlers as appropriate. This
 works only if BUILD_DOM was specified
<p>
</dl>
<a name="getDocument()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getDocument"><b>getDocument</b></a>
<pre>
 public Document getDocument()
</pre>
<dl>
  <dd> Get the DOM Document object. Only works if BUILD_DOM was set.
<p>
</dl>
<a name="setHandler(java.lang.String, com.icl.saxon.ElementHandler)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setHandler"><b>setHandler</b></a>
<pre>
 public void setHandler(String name,
                        <a href="com.icl.saxon.ElementHandler.html#_top_">ElementHandler</a> eh)
</pre>
<dl>
  <dd> Register a handler for a particular element type. Note that several
 handlers are allowed for the same element; they will be invoked in
 the order supplied.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> name - Must be either <UL>
 <LI>an element tag (the handler is used when this element is encountered)
 <LI>a tag in context, in the form "PARENT/CHILD" (the handler is used
 whenever the CHILD element is found with PARENT as its parent). Note that
 if there is at least one PARENT/CHILD handler for a particular element type,
 the system will not look for a CHILD handler for that element type.</UL>
    <dd> eh - The ElementHandler to be used
    <dt> <b>See Also:</b>
    <dd> <a href="com.icl.saxon.ElementHandler.html#_top_">ElementHandler</a>
  </dl></dd>
</dl>
<a name="getHandler(java.lang.String, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getHandler"><b>getHandler</b></a>
<pre>
 public <a href="com.icl.saxon.ElementHandler.html#_top_">ElementHandler</a> getHandler(String tag,
                                  String parent)
</pre>
<dl>
  <dd> Find the handler registered for a particular element type.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> tag - The element tag for this element type.
    <dd> parent - The element tag for the parent element type; supply
 an empty string if the current element is the root.
    <dt> <b>Returns:</b>
    <dd> The element handler that will process this
 element type. Returns the default handler if there is no specific
 one registered.
  </dl></dd>
</dl>
<a name="setDefaultHandler(com.icl.saxon.ElementHandler)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setDefaultHandler"><b>setDefaultHandler</b></a>
<pre>
 public void setDefaultHandler(<a href="com.icl.saxon.ElementHandler.html#_top_">ElementHandler</a> handler)
</pre>
<dl>
  <dd> Register the default element handler
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> handler - The element handler to be used for all element types
 that have no specific handler registered
  </dl></dd>
</dl>
<a name="getDefaultHandler()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getDefaultHandler"><b>getDefaultHandler</b></a>
<pre>
 public <a href="com.icl.saxon.ElementHandler.html#_top_">ElementHandler</a> getDefaultHandler()
</pre>
<dl>
  <dd> Find the default element handler
<p>
</dl>
<a name="setWriter(java.lang.String, java.io.Writer)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setWriter"><b>setWriter</b></a>
<pre>
 public void setWriter(String element,
                       Writer writer)
</pre>
<dl>
  <dd> Set the writer to be used for an element type.<BR>
 This setting may be overridden for a particular element instance
 by calling <B>ElementInfo.setWriter()</B> from the element handler.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - Either the name (tag) of the element type, or a pattern in the
 form "PARENT/CHILD". The selected Writer is used for this
 element and for all its children unless otherwise specified
    <dd> writer - A Writer that will be used when the write() method is called for this
 element and (unless otherwise specified) its children
  </dl></dd>
</dl>
<a name="setNullWriter(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setNullWriter"><b>setNullWriter</b></a>
<pre>
 public void setNullWriter(String element)
</pre>
<dl>
  <dd> Set a null writer for an element. This causes
 output for that element to be discarded.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> element - Must be either <UL>
 <LI>an element tag (the output is discarded when this element is encountered)
 <LI>a tag in context, in the form "PARENT/CHILD" (the output is discarded
 whenever the CHILD element is found with PARENT as its parent).
  </dl></dd>
</dl>
<a name="getWriter(java.lang.String, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="getWriter"><b>getWriter</b></a>
<pre>
 public Writer getWriter(String tag,
                         String parent)
</pre>
<dl>
  <dd> Find the Writer registered for a particular element type.
<p>
  <dd><dl>
    <dt> <b>Parameters:</b>
    <dd> tag - The element tag for this element type.
    <dd> parent - The element tag for the parent element type; supply
 an empty string if the current element is the root.
    <dt> <b>Returns:</b>
    <dd> The context explicitly registered for this element type; or null
 if none has been registered.
  </dl></dd>
</dl>
<a name="startDocument()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="startDocument"><b>startDocument</b></a>
<pre>
 public void startDocument()
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="endDocument()"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="endDocument"><b>endDocument</b></a>
<pre>
 public void endDocument()
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="setDocumentLocator(org.xml.sax.Locator)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="setDocumentLocator"><b>setDocumentLocator</b></a>
<pre>
 public void setDocumentLocator(Locator locator)
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="startElement(java.lang.String, org.xml.sax.AttributeList)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="startElement"><b>startElement</b></a>
<pre>
 public void startElement(String name,
                          AttributeList atts) throws SAXException
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="endElement(java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="endElement"><b>endElement</b></a>
<pre>
 public void endElement(String name) throws SAXException
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="characters(char[], int, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="characters"><b>characters</b></a>
<pre>
 public void characters(char ch[],
                        int start,
                        int length) throws SAXException
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="ignorableWhitespace(char[], int, int)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="ignorableWhitespace"><b>ignorableWhitespace</b></a>
<pre>
 public void ignorableWhitespace(char ch[],
                                 int start,
                                 int length) throws SAXException
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<a name="processingInstruction(java.lang.String, java.lang.String)"><img src="images/red-ball.gif" width=12 height=12 alt=" o "></a>
<a name="processingInstruction"><b>processingInstruction</b></a>
<pre>
 public void processingInstruction(String name,
                                   String remainder)
</pre>
<dl>
  <dd> Callback interface for SAX: not for application use<BR>
<p>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-com.icl.saxon.html">This Package</a>  <a href="com.icl.saxon.DOMDriver.html#_top_">Previous</a>  <a href="com.icl.saxon.ElementCopier.html#_top_">Next</a>  <a href="AllNames.html">Index</a></pre>
</body>
</html>
